I"Ñ<p>Vari√°veis no <strong>CSS</strong>? Em um futuro n√£o muito distante (ou talvez sim) poderemos usar nossas vari√°veis muito doidas diretamente no CSS, mas enquanto o sol n√£o raia pra n√≥s, conseguimos simular esse recurso atrav√©s de pr√©-processadores. Pra mim, o uso de vari√°veis s√£o umas das principais e, acho que uma das poucas, <em>features</em> que uso dos pr√©-processadores, mas isso foge um pouco do assunto do post (boa id√©ia para um pr√≥ximo).</p>

<h2 id="vari√°veis-s√£o-legais">Vari√°veis s√£o legais</h2>

<p>Se voc√™ est√° acostumado a utilizar um <em>Sass</em> ou <em>LESS</em> da vida, sabe o qu√£o legal e √∫til pode ser utilizar vari√°veis quando falamos de estilo. Uma coisa √∫til √© que vari√°veis nos ajudam a evitar repeti√ß√µes e nos auxiliam e muito principalmente em projetos grandes onde a possibilidade, de por exemplo, ter uma repeti√ß√£o de uma cor espec√≠fica √© bem grande.</p>

<p>Um bom caso de aplica√ß√£o de vari√°veis √© na quest√£o de temas ou varia√ß√µes de um componente ou at√© de um projeto inteiro. Criar e gerenciar esquemas de cores com vari√°veis fica bem mais f√°cil: podemos criar por exemplo, uma vari√°vel chamada <code class="highlighter-rouge">main-color</code> e declarar a cor <code class="highlighter-rouge">red</code> pra ela. Assim, se em uma manuten√ß√£o futura, precisarmos mudar essa cor, alteramos apenas na declara√ß√£o da vari√°vel e n√£o em todos os casos onde ela √© utilizada. Claro que tudo depende de como estruturamos a <em>coisa toda</em>, pois uma pequena altera√ß√£o de cor pode te dar alguns problemas.</p>

<h2 id="o-tal-do-currentcolor">O tal do <code class="highlighter-rouge">currentColor</code></h2>

<p>O danado do <code class="highlighter-rouge">currentColor</code> funciona semelhante a uma vari√°vel salvo duas exce√ß√µes: s√≥ podemos utiliz√°-lo onde um valor de cor √© esperado e, diferente de uma vari√°vel comum, n√£o podemos <code class="highlighter-rouge">setar</code> o seu valor, e sim, isso √© herdado do valor atual da propriedade <code class="highlighter-rouge">color</code> que est√° sendo usado no elemento e claro, seguindo a cascata. Ficou confuso? Eu tamb√©m! Vamos l√°!</p>

<p>Vamos supor que tenhamos o seguinte:</p>

<script src="https://gist.github.com/592a1767afdc5d1f510f7a2b176e06e0.js"> </script>

<p>No exemplo acima, simplesmente definimos uma cor verde para o <code class="highlighter-rouge">body</code> e a utilizamos nos elementos <code class="highlighter-rouge">div</code> atrav√©s dos caras <code class="highlighter-rouge">currentColor</code>. <em>Mas Fabeni, tu t√° me enrolando! Eu n√£o precisava do <code class="highlighter-rouge">currentColor</code> a√≠!</em> Exatamente, n√£o precisava. Se voltarmos para o exemplo, chegar√≠amos no mesmo resultado apenas assim:</p>

<script src="https://gist.github.com/878fc4f38de0f5eb81b1d7678c08a360.js"> </script>

<p>Algumas propriedades herdam o valor da propriedade <code class="highlighter-rouge">color</code> do elemento ou caso essa n√£o tenha sido setada, seguem a cascata, at√© achar da onde v√£o herdar esse valor. Algumas dessas propriedades s√£o:</p>

<ul>
  <li>o elemento texto em si;</li>
  <li>a borda do elemento;</li>
  <li>o <code class="highlighter-rouge">outline</code>;</li>
  <li><code class="highlighter-rouge">box-shadow</code>;</li>
  <li><em>bullets</em> de uma lista.</li>
</ul>

<p>No exemplo abaixo, √© poss√≠vel ver que alterando a cor do <code class="highlighter-rouge">body</code>, todos os elementos que herdam essa cor, sofrem modifica√ß√£o de estilo.</p>

<figure class="text-center loading">
    <p data-height="360" data-theme-id="4240" data-slug-hash="vOWKVm" data-default-tab="result" data-user="raphaelfabeni" class="codepen">See the Pen <a href="http://codepen.io/raphaelfabeni/pen/vOWKVm/">Color inherited</a> by Raphael Fabeni (<a href="http://codepen.io/raphaelfabeni">@raphaelfabeni</a>) on <a href="http://codepen.io">CodePen</a>.</p>
</figure>

<p>Mas ent√£o, voc√™ deve estar perguntando: qual a real utilidade disso, certo? Agora que as coisas come√ßam a ficar legais e, dependendo da sua criatividade e organi√ß√£o d√° pra fazer algumas coisas bem bacanas.</p>

<p>√â poss√≠vel usar por exemplo em anima√ß√µes, svg, gradientes.. e por a√≠ vai. Fu√ßando pela <em>interwebs</em> da vida, achei esse <a href="http://codepen.io/scottkellum/pen/Fhxql">exemplo que, atrav√©s de uma anima√ß√£o, altera a cor do elemento <code class="highlighter-rouge">body</code>, mudando assim o <code class="highlighter-rouge">currentColor</code> usado em outro elemento</a>.</p>

<p>Brincando um pouco, montei esse exemplo r√°pido, onde o <code class="highlighter-rouge">currentColor</code> √© aplicado no <code class="highlighter-rouge">:after</code> do elemento.</p>

<figure class="text-center loading">
    <p data-height="300" data-theme-id="4240" data-slug-hash="aOVERw" data-default-tab="result" data-user="raphaelfabeni" class="codepen">See the Pen <a href="http://codepen.io/raphaelfabeni/pen/aOVERw/">Simple buttons using currentColor</a> by Raphael Fabeni (<a href="http://codepen.io/raphaelfabeni">@raphaelfabeni</a>) on <a href="http://codepen.io">CodePen</a>.</p>
</figure>

<p>A id√©ia para formar o tri√¢ngulo √© criar uma borda geral transparente e setar apenas o lado que voc√™ quer com o <code class="highlighter-rouge">currentColor</code>, formando assim o tri√¢ngulo. Uma outra abordagem e, que chegaria no mesmo resultado seria fazer o processo inverso: setar uma borda geral com cor (no caso nem precisaria do <code class="highlighter-rouge">currentColor</code> pois ele herdaria a cor da propriedade <code class="highlighter-rouge">color</code>) e depois disso, tirar a borda dos lados que voc√™ n√£o queira. Algo mais ou menos assim:</p>

<script src="https://gist.github.com/eb1d42bc7404811f8cc451d0c6bbdbe2.js"> </script>

<h3 id="outros-usos">Outros usos</h3>

<p>√â poss√≠vel usar nosso camarada em SVGs. Fiz um exemplo r√°pido (abaixo) onde o SVG herda a cor da propriedade color do elemento pai (a classe <code class="highlighter-rouge">.alert</code>).</p>

<figure class="text-center loading">
  <p data-height="300" data-theme-id="4240" data-slug-hash="rVJVOM" data-default-tab="result" data-user="raphaelfabeni" class="codepen">See the Pen <a href="http://codepen.io/raphaelfabeni/pen/rVJVOM/">CSS currentColor in SVG</a> by Raphael Fabeni (<a href="http://codepen.io/raphaelfabeni">@raphaelfabeni</a>) on <a href="http://codepen.io">CodePen</a>.</p>
</figure>

<p>S√≥ isso? Basicamente sim e n√£o. Aqui que entra a nossa criativade e organiza√ß√£o em tirar proveito do que o <code class="highlighter-rouge">currentColor</code> nos oferece.</p>

<h2 id="mas-ea√≠-d√°-pra-usar">Mas ea√≠.. d√° pra usar?</h2>

<p>O suporte √© bem melhor do que eu imaginava.. IE9, Chrome, Firefox, Safari e por a√≠ vai. Existe um pequeno <a href="http://stackoverflow.com/questions/29400291/currentcolor-seems-to-get-stuck-in-safari"><em>bug</em> bem pontual, para Safari e iOS Safari 8</a> quando aplicado em <code class="highlighter-rouge">:after</code> e <code class="highlighter-rouge">:before</code>. <a href="http://caniuse.com/#feat=currentcolor">D√° pra ver mais informa√ß√µes no site do Can I Use</a>.</p>

<script async="" src="//assets.codepen.io/assets/embed/ei.js"></script>

:ET